{% extends 'back/admin_base.html' %}

{% load static %}

{% block mainblock %}


<div class="container mt-5">
    <h2>Create Blog</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" class="form-control" id="title" name="title">
        </div>
        <div class="form-group">
            <label for="content">Content:</label>
            <textarea class="form-control" id="content" name="content"></textarea>
        </div>
        <div class="form-group">
            <label for="author">Author:</label>
            <input type="text" class="form-control" id="author" name="author">
        </div>
        <div class="form-group">
            <label for="date">Date:</label>
            <input type="date" class="form-control" id="date" name="date">
        </div>
        <div class="form-group">
            <label for="categories">Categories:</label>
            <input type="text" class="form-control" id="categories" name="categories">
        </div>
        <div class="form-group">
            <label for="image">Image:</label>
            <input type="file" class="form-control-file" id="image" name="image">
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    {% for blog in  blogs %}
    <div class="mt-5">
        <h2>Submitted Details:</h2>
        <p><strong>Image:</strong> <img src="{{ blog.image.url }}" alt="Blog Image" style="max-width: 300px;"></p>
        <p><strong>Title:</strong> {{ blog.title }}</p>
        <p><strong>Content:</strong> {{ blog.content }}</p>
        <p><strong>Author:</strong> {{ blog.author }}</p>
        <p><strong>Date:</strong> {{ blog.date }}</p>
        <p><strong>Categories:</strong> {{ blog.categories }}</p>
        <p><a href="{% url 'delete_blog' blog.id %}" class="btn btn-danger btn-sm">Delete</a></p>
        
    </div>
    {% endfor %}
</div>

{% endblock %}
